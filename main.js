(()=>{"use strict";var e={d:(t,r)=>{for(var s in r)e.o(r,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:r[s]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};e.d({},{hi:()=>$,c4:()=>P,cM:()=>U});const t=document.querySelector(".cards__list"),r=document.querySelector("#card-modal"),s=r.querySelector(".modal__image"),n=r.querySelector(".modal__card-title"),o=document.querySelector(".profile__edit-button"),i=document.querySelector("#profile-modal"),a=document.querySelector(".profile__add-button"),l=document.querySelector("#cards-modal"),c=document.querySelector(".profile__title"),u=document.querySelector(".profile__subtitle"),d=i.querySelector(".form__input-name"),h=i.querySelector(".form__input-description"),m=(l.querySelector(".form__input-title"),l.querySelector(".form__input-link"),{inputSelector:".form__input",submitButtonSelector:".form__button",inactiveButtonClass:"button_inactive",inputErrorClass:"form__input_type_error",errorClass:"form__input-error_active"}),p=i.querySelector(".form"),_=l.querySelector("#cards-form"),b=document.querySelector("#propic-form"),f=document.querySelector("#propic-modal"),v=document.querySelector(".profile__image-ed"),E=document.querySelector(".profile__image"),S=document.querySelector("#delete-modal");class y{constructor(e,t,r){this.name=e.name,this.link=e.link,this._cardSelector=t,this._handleImageClick=r,this.id=e._id,this.isLiked=e.isLiked}_getTemplate(){return document.querySelector(this._cardSelector).content.querySelector(".card").cloneNode(!0)}generateCard(){return this._cardElement=this._getTemplate(),this._setEventListeners(),this._cardElement.querySelector(".card__image").src=this.link,this._cardElement.querySelector(".card__image").alt=`photo of ${this.name}`,this._cardElement.querySelector(".card__title").textContent=this.name,!0===this.isLiked&&this.buttonLike.classList.add("card__button-like_active"),this._cardElement}_setEventListeners(){this._cardElement.querySelector(".card__image").addEventListener("click",(()=>{this._handleImageClick(this)})),this.buttonLike=this._cardElement.querySelector(".card__button-like"),this.buttonLike.addEventListener("click",(()=>{this._handleLikeButton()})),this.buttonTrash=this._cardElement.querySelector(".card__button-delete"),this.buttonTrash.addEventListener("click",(()=>{U.open(),U.setDeleteListener(this._cardElement,this.id)}))}_handleLikeButton(){this.buttonLike.classList.toggle("card__button-like_active"),Array.from(this.buttonLike.classList).includes("card__button-like_active")?$.addLike(this.id):$.deleteLike(this.id)}_handleTrashButton(){this._cardElement.remove()}}function L(e){const t=e.name,r=e.link;P.open({title:t,link:r})}function k(e){return new y(e,"#card-template",L).generateCard()}function C(e,t,r){t.querySelector(".form__button").textContent=e?"Saving...":r}class q{constructor(e,t){this._inputSelector=e.inputSelector,this._submitButtonSelector=e.submitButtonSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._inputErrorClass=e.inputErrorClass,this._errorClass=e.errorClass,this._form=t}showInputError(e,t){e.classList.add(this._inputErrorClass);const r=this._form.querySelector(`.${e.id}-error`);r.textContent=t,r.classList.add(this._errorClass)}hideInputError(e){e.classList.remove(this._inputErrorClass),this._form.querySelector(`.${e.id}-error`).classList.remove(this._errorClass)}checkInputValidity(e){if(e.validity.valid)this.hideInputError(e);else{const t=e.validationMessage;this.showInputError(e,t)}}hasInvalidInput(){return this.inputList.some((e=>!e.validity.valid))}toggleButtonState(){this.hasInvalidInput()?(this.buttonElement.classList.add(this._inactiveButtonClass),this.buttonElement.setAttribute("disabled",!0)):(this.buttonElement.classList.remove(this._inactiveButtonClass),this.buttonElement.removeAttribute("disabled"))}setEventListeners(){this.inputList=Array.from(this._form.querySelectorAll(this._inputSelector)),this.buttonElement=this._form.querySelector(this._submitButtonSelector),this.toggleButtonState(),this.inputList.forEach((e=>{this.inputElement=e,this.inputElement.addEventListener("input",(()=>{this.checkInputValidity(e),this.hasInvalidInput(),this.toggleButtonState()}))}))}enableValidation(){this._form.addEventListener("submit",(e=>{e.preventDefault(),this.toggleButtonState()})),this.setEventListeners()}}class g{constructor(e,t){let{data:r,renderer:s}=e;this._items=r,this._renderer=s,this._container=t}addItem(e){this._container.prepend(e)}renderItems(){this._items.forEach((e=>{this._renderer(e)}))}}class I{constructor(e){this.popup=e}open(){this.popup.classList.add("modal_opened"),document.addEventListener("keydown",this._handleEscClose)}close(){this.popup.classList.remove("modal_opened"),document.removeEventListener("keydown",this._handleEscClose)}_handleEscClose=e=>{"Escape"===e.key&&(document.querySelector(".modal_opened"),this.close())};setEventListeners(){this.buttonClose=this.popup.querySelector(".modal__button-close"),this.buttonClose.addEventListener("click",(()=>{this.close()})),this.popup.addEventListener("mousedown",(e=>{e.target===e.currentTarget&&this.close()}))}}class j extends I{constructor(e,t){let{handleFormSubmit:r}=t;super(e),this.handleFormSubmit=r,this.form=this.popup.querySelector(".form")}close(){super.close(),this.form.reset(),this.form.querySelectorAll(".form__input-error").forEach((e=>{e.classList.remove("form__input-error_active")})),this.form.querySelectorAll(".form__input").forEach((e=>{e.classList.remove("form__input_type_error")}))}_getInputValues(){const e=this.form.querySelectorAll(".form__input"),t={};for(const r of e)t[r.name]=r.value;return t}setEventListeners(){super.setEventListeners(),this.form.addEventListener("submit",(e=>{C(!0,this.form),e.preventDefault(),this.handleFormSubmit(this._getInputValues()),this.close()}))}setDeleteListener(e,t){super.setEventListeners(),this.form.addEventListener("submit",(r=>{r.preventDefault(),this.handleFormSubmit(e,t),this.close()}))}}const P=new class extends I{constructor(e){super(e)}open(e){n.textContent=e.title,s.src=e.link,s.alt=`photo of ${e.title}`,super.open()}}(r);P.setEventListeners();const w=new class{constructor(e,t){this.name=e,this.job=t}getUserInfo(){return{name:this.name.textContent,about:this.job.textContent}}setUserInfo(e){let{name:t,about:r}=e;this.name.textContent=t,this.job.textContent=r}}(c,u),B=new j(i,{handleFormSubmit:e=>{$.editProfile(e),w.setUserInfo(e)}});B.setEventListeners(),o.addEventListener("click",(()=>{!function(e){let{name:t,about:r}=e;d.value=t,h.value=r}(w.getUserInfo()),B.open()}));const T=new j(l,{handleFormSubmit:e=>{$.addNewCard(e).then((e=>{const r=k(e);t.prepend(r)}))}});T.setEventListeners(),a.addEventListener("click",(()=>{T.open()})),new q(m,p).enableValidation(),new q(m,_).enableValidation();const $=new class{constructor(e){this._options=e}loadUserInfo(){return fetch("https://around-api.en.tripleten-services.com/v1/users/me",{headers:{authorization:"f01264e8-2101-4ab7-b120-b09b55e63681"}}).then((e=>e.ok?e.json():Promise.reject("Error: ${res.status}")))}getInitialCards(){return fetch("https://around-api.en.tripleten-services.com/v1/cards",{headers:{authorization:"f01264e8-2101-4ab7-b120-b09b55e63681"}}).then((e=>e.ok?e.json():Promise.reject("Error: ${res.status}")))}editProfile(e){let{name:t,about:r}=e;return fetch("https://around-api.en.tripleten-services.com/v1/users/me",{method:"PATCH",headers:{authorization:"f01264e8-2101-4ab7-b120-b09b55e63681","Content-Type":"application/json"},body:JSON.stringify({name:t,about:r})}).then((e=>e.ok?e.json():Promise.reject("Error: ${res.status}"))).finally((()=>{C(!1,p,"Save")}))}addNewCard(e){let{name:t,link:r}=e;return fetch("https://around-api.en.tripleten-services.com/v1/cards",{method:"POST",headers:{authorization:"f01264e8-2101-4ab7-b120-b09b55e63681","Content-Type":"application/json"},body:JSON.stringify({name:t,link:r})}).then((e=>e.ok?e.json():Promise.reject("Error: ${res.status}"))).finally((()=>{C(!1,_,"Create")}))}deleteCard(e){return fetch(`https://around-api.en.tripleten-services.com/v1/cards/${e}`,{method:"DELETE",headers:{authorization:"f01264e8-2101-4ab7-b120-b09b55e63681"}}).then((e=>e.ok?e.json():Promise.reject("Error: ${res.status}")))}addLike(e){return fetch(`https://around-api.en.tripleten-services.com/v1/cards/${e}/likes`,{method:"PUT",headers:{authorization:"f01264e8-2101-4ab7-b120-b09b55e63681"}}).then((e=>e.ok?e.json():Promise.reject("Error: ${res.status}")))}deleteLike(e){return fetch(`https://around-api.en.tripleten-services.com/v1/cards/${e}/likes`,{method:"DELETE",headers:{authorization:"f01264e8-2101-4ab7-b120-b09b55e63681"}}).then((e=>e.ok?e.json():Promise.reject("Error: ${res.status}")))}updateProPic(e){return fetch("https://around-api.en.tripleten-services.com/v1/users/me/avatar",{method:"PATCH",headers:{authorization:"f01264e8-2101-4ab7-b120-b09b55e63681","Content-Type":"application/json"},body:JSON.stringify({avatar:e})}).then((e=>e.ok?e.json():Promise.reject("Error: ${res.status}"))).finally((()=>{C(!1,b,"Save")}))}returnUserInfoAndCards(){const e=[$.loadUserInfo(),$.getInitialCards()];return Promise.all(e)}}({baseUrl:"https://around-api.en.tripleten-services.com/v1",headers:{authorization:"f01264e8-2101-4ab7-b120-b09b55e63681","Content-Type":"application/json"}});$.returnUserInfoAndCards().then((e=>{w.setUserInfo(e[0]),E.src=e[0].avatar,new g({data:e[1],renderer:e=>{const r=k(e);t.append(r)}},t).renderItems()})).catch((e=>console.error(e)));const A=new j(f,{handleFormSubmit:e=>{$.updateProPic(e.link),E.src=e.link}});A.setEventListeners(),v.addEventListener("click",(()=>{A.open()}));const U=new j(S,{handleFormSubmit:(e,t)=>{$.deleteCard(t),e.remove()}});new q(m,b).enableValidation()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFRQyxNQUFNRixLQUVoQyxNQUFNRyxFQUFjLElBQUlyRCxFQUFjdkcsRUFBYSxDQUNqRHdHLGlCQUFtQnBJLElBQ2pCbUUsRUFBSTBHLGFBQWE3SyxFQUFJdUMsTUFDckJULEVBQU9xQixJQUFNbkQsRUFBSXVDLElBQUksSUFHekJpSixFQUFZOUUsb0JBRVo3RSxFQUFpQjRCLGlCQUFpQixTQUFTLEtBQ3pDK0gsRUFBWTNILE1BQU0sSUFHYixNQUFNRCxFQUFjLElBQUl1RSxFQUFjcEcsRUFBYSxDQUN4RHFHLGlCQUFrQkEsQ0FBQ1osRUFBYW1CLEtBQzlCeEUsRUFBSXdHLFdBQVdoQyxHQUNmbkIsRUFBWWpELFFBQVEsSUFJSSxJQUFJVSxFQUFjOUQsRUFBUVEsR0FDbENrRixrQiIsInNvdXJjZXMiOlsid2VicGFjazovL3NlX3Byb2plY3RfYXJvdW5kdGhldXMvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL3NlX3Byb2plY3RfYXJvdW5kdGhldXMvLi9zcmMvdXRpbHMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL3NlX3Byb2plY3RfYXJvdW5kdGhldXMvLi9zcmMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL3NlX3Byb2plY3RfYXJvdW5kdGhldXMvLi9zcmMvdXRpbHMvdXRpbHMuanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL3NlX3Byb2plY3RfYXJvdW5kdGhldXMvLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL3NlX3Byb2plY3RfYXJvdW5kdGhldXMvLi9zcmMvcGFnZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL3NlX3Byb2plY3RfYXJvdW5kdGhldXMvLi9zcmMvY29tcG9uZW50cy9Vc2VySW5mby5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzLy4vc3JjL2NvbXBvbmVudHMvQXBpLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFRoZSByZXF1aXJlIHNjb3BlXG52YXIgX193ZWJwYWNrX3JlcXVpcmVfXyA9IHt9O1xuXG4iLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiZXhwb3J0IGNvbnN0IGNhcmRMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkc19fbGlzdFwiKTtcblxuZXhwb3J0IGNvbnN0IG1vZGFsQ2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY2FyZC1tb2RhbFwiKTtcbmV4cG9ydCBjb25zdCBjYXJkTW9kYWxJbWFnZSA9IG1vZGFsQ2FyZC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19pbWFnZVwiKTtcbmV4cG9ydCBjb25zdCBjYXJkTW9kYWxUaXRsZSA9IG1vZGFsQ2FyZC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19jYXJkLXRpdGxlXCIpO1xuXG5leHBvcnQgY29uc3QgcHJvZmlsZUJ1dHRvbkVkaXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICBcIi5wcm9maWxlX19lZGl0LWJ1dHRvblwiXG4pO1xuZXhwb3J0IGNvbnN0IHByb2ZpbGVFZGl0TW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2ZpbGUtbW9kYWxcIik7XG5leHBvcnQgY29uc3QgY2FyZHNCdXR0b25BZGQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2FkZC1idXR0b25cIik7XG5leHBvcnQgY29uc3QgY2FyZHNNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY2FyZHMtbW9kYWxcIik7XG5cbmV4cG9ydCBjb25zdCBwcm9maWxlVGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX3RpdGxlXCIpO1xuZXhwb3J0IGNvbnN0IHByb2ZpbGVTdWJ0aXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fc3VidGl0bGVcIik7XG5cbmV4cG9ydCBjb25zdCBpbnB1dE5hbWUgPSBwcm9maWxlRWRpdE1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybV9faW5wdXQtbmFtZVwiKTtcbmV4cG9ydCBjb25zdCBpbnB1dERlc2NyaXB0aW9uID0gcHJvZmlsZUVkaXRNb2RhbC5xdWVyeVNlbGVjdG9yKFxuICBcIi5mb3JtX19pbnB1dC1kZXNjcmlwdGlvblwiXG4pO1xuXG5leHBvcnQgY29uc3QgY2FyZHNJbnB1dFRpdGxlID0gY2FyZHNNb2RhbC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1fX2lucHV0LXRpdGxlXCIpO1xuZXhwb3J0IGNvbnN0IGNhcmRzSW5wdXRMaW5rID0gY2FyZHNNb2RhbC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1fX2lucHV0LWxpbmtcIik7XG5cbmV4cG9ydCBjb25zdCBjb25maWcgPSB7XG4gIGlucHV0U2VsZWN0b3I6IFwiLmZvcm1fX2lucHV0XCIsXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiBcIi5mb3JtX19idXR0b25cIixcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogXCJidXR0b25faW5hY3RpdmVcIixcbiAgaW5wdXRFcnJvckNsYXNzOiBcImZvcm1fX2lucHV0X3R5cGVfZXJyb3JcIixcbiAgZXJyb3JDbGFzczogXCJmb3JtX19pbnB1dC1lcnJvcl9hY3RpdmVcIixcbn07XG5cbmV4cG9ydCBjb25zdCBwcm9maWxlRWRpdEZvcm0gPSBwcm9maWxlRWRpdE1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybVwiKTtcbmV4cG9ydCBjb25zdCBjYXJkc0VkaXRGb3JtID0gY2FyZHNNb2RhbC5xdWVyeVNlbGVjdG9yKFwiI2NhcmRzLWZvcm1cIik7XG5cbmV4cG9ydCBjb25zdCBwcm9waWNGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9waWMtZm9ybVwiKTtcblxuZXhwb3J0IGNvbnN0IHByb3BpY01vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9waWMtbW9kYWxcIik7XG5leHBvcnQgY29uc3QgcHJvcGljQnV0dG9uRWRpdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9faW1hZ2UtZWRcIik7XG5leHBvcnQgY29uc3QgcHJvcGljID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19pbWFnZVwiKTtcbmV4cG9ydCBjb25zdCBkZWxldGVNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZGVsZXRlLW1vZGFsXCIpO1xuIiwiaW1wb3J0IHsgaGFuZGxlSW1hZ2VDbGljayB9IGZyb20gXCIuLi91dGlscy91dGlscy5qc1wiO1xuXG5pbXBvcnQgeyBhcGkgfSBmcm9tIFwiLi4vcGFnZXMvaW5kZXguanNcIjtcbmltcG9ydCB7IGRlbGV0ZVBvcHVwIH0gZnJvbSBcIi4uL3BhZ2VzL2luZGV4LmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmQge1xuICBjb25zdHJ1Y3RvcihkYXRhLCBjYXJkU2VsZWN0b3IsIGhhbmRsZUltYWdlQ2xpY2spIHtcbiAgICB0aGlzLm5hbWUgPSBkYXRhLm5hbWU7XG4gICAgdGhpcy5saW5rID0gZGF0YS5saW5rO1xuICAgIHRoaXMuX2NhcmRTZWxlY3RvciA9IGNhcmRTZWxlY3RvcjtcbiAgICB0aGlzLl9oYW5kbGVJbWFnZUNsaWNrID0gaGFuZGxlSW1hZ2VDbGljaztcblxuICAgIHRoaXMuaWQgPSBkYXRhLl9pZDtcblxuICAgIHRoaXMuaXNMaWtlZCA9IGRhdGEuaXNMaWtlZDtcbiAgfVxuICBfZ2V0VGVtcGxhdGUoKSB7XG4gICAgY29uc3QgdGVtcGxhdGUgPSBkb2N1bWVudFxuICAgICAgLnF1ZXJ5U2VsZWN0b3IodGhpcy5fY2FyZFNlbGVjdG9yKVxuICAgICAgLmNvbnRlbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkXCIpXG4gICAgICAuY2xvbmVOb2RlKHRydWUpO1xuICAgIHJldHVybiB0ZW1wbGF0ZTtcbiAgfVxuICBnZW5lcmF0ZUNhcmQoKSB7XG4gICAgdGhpcy5fY2FyZEVsZW1lbnQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19pbWFnZVwiKS5zcmMgPSB0aGlzLmxpbms7XG4gICAgdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgIFwiLmNhcmRfX2ltYWdlXCJcbiAgICApLmFsdCA9IGBwaG90byBvZiAke3RoaXMubmFtZX1gO1xuICAgIHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fdGl0bGVcIikudGV4dENvbnRlbnQgPSB0aGlzLm5hbWU7XG5cbiAgICBpZiAodGhpcy5pc0xpa2VkID09PSB0cnVlKSB7XG4gICAgICB0aGlzLmJ1dHRvbkxpa2UuY2xhc3NMaXN0LmFkZChcImNhcmRfX2J1dHRvbi1saWtlX2FjdGl2ZVwiKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5fY2FyZEVsZW1lbnQ7XG4gIH1cblxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fY2FyZEVsZW1lbnRcbiAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2ltYWdlXCIpXG4gICAgICAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgdGhpcy5faGFuZGxlSW1hZ2VDbGljayh0aGlzKTtcbiAgICAgIH0pO1xuICAgIHRoaXMuYnV0dG9uTGlrZSA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fYnV0dG9uLWxpa2VcIik7XG5cbiAgICB0aGlzLmJ1dHRvbkxpa2UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIHRoaXMuX2hhbmRsZUxpa2VCdXR0b24oKTtcbiAgICB9KTtcbiAgICB0aGlzLmJ1dHRvblRyYXNoID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19idXR0b24tZGVsZXRlXCIpO1xuICAgIHRoaXMuYnV0dG9uVHJhc2guYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIC8vYWRkZWQ6XG4gICAgICBkZWxldGVQb3B1cC5vcGVuKCk7XG4gICAgICBkZWxldGVQb3B1cC5zZXREZWxldGVMaXN0ZW5lcih0aGlzLl9jYXJkRWxlbWVudCwgdGhpcy5pZCk7XG5cbiAgICAgIC8vdGhpcy5faGFuZGxlVHJhc2hCdXR0b24oKTtcbiAgICB9KTtcbiAgfVxuICBfaGFuZGxlTGlrZUJ1dHRvbigpIHtcbiAgICB0aGlzLmJ1dHRvbkxpa2UuY2xhc3NMaXN0LnRvZ2dsZShcImNhcmRfX2J1dHRvbi1saWtlX2FjdGl2ZVwiKTtcbiAgICBpZiAoXG4gICAgICBBcnJheS5mcm9tKHRoaXMuYnV0dG9uTGlrZS5jbGFzc0xpc3QpLmluY2x1ZGVzKFwiY2FyZF9fYnV0dG9uLWxpa2VfYWN0aXZlXCIpXG4gICAgKSB7XG4gICAgICBhcGkuYWRkTGlrZSh0aGlzLmlkKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYXBpLmRlbGV0ZUxpa2UodGhpcy5pZCk7XG4gICAgfVxuICB9XG4gIF9oYW5kbGVUcmFzaEJ1dHRvbigpIHtcbiAgICB0aGlzLl9jYXJkRWxlbWVudC5yZW1vdmUoKTtcbiAgfVxufVxuIiwiaW1wb3J0IENhcmQgZnJvbSBcIi4uL2NvbXBvbmVudHMvQ2FyZC5qc1wiO1xuXG5pbXBvcnQgeyBjYXJkUG9wdXAgfSBmcm9tIFwiLi4vcGFnZXMvaW5kZXguanNcIjtcblxuaW1wb3J0IHsgaW5wdXROYW1lLCBpbnB1dERlc2NyaXB0aW9uIH0gZnJvbSBcIi4vY29uc3RhbnRzLmpzXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBmaWxsUHJvZmlsZUZvcm0oeyBuYW1lLCBhYm91dCB9KSB7XG4gIGlucHV0TmFtZS52YWx1ZSA9IG5hbWU7XG4gIGlucHV0RGVzY3JpcHRpb24udmFsdWUgPSBhYm91dDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGhhbmRsZUltYWdlQ2xpY2sodGhpc09iaikge1xuICBjb25zdCB0aXRsZSA9IHRoaXNPYmoubmFtZTtcbiAgY29uc3QgbGluayA9IHRoaXNPYmoubGluaztcblxuICBjYXJkUG9wdXAub3Blbih7IHRpdGxlLCBsaW5rIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQ2FyZChpdGVtKSB7XG4gIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZChpdGVtLCBcIiNjYXJkLXRlbXBsYXRlXCIsIGhhbmRsZUltYWdlQ2xpY2spO1xuICByZXR1cm4gY2FyZC5nZW5lcmF0ZUNhcmQoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlbmRlckxvYWRpbmcoaXNMb2FkaW5nLCBmb3JtLCB0ZXh0KSB7XG4gIGNvbnN0IHN1YkJ1dHRvbiA9IGZvcm0ucXVlcnlTZWxlY3RvcihcIi5mb3JtX19idXR0b25cIik7XG4gIGlmIChpc0xvYWRpbmcpIHtcbiAgICBzdWJCdXR0b24udGV4dENvbnRlbnQgPSBcIlNhdmluZy4uLlwiO1xuICB9IGVsc2Uge1xuICAgIHN1YkJ1dHRvbi50ZXh0Q29udGVudCA9IHRleHQ7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEZvcm1WYWxpZGF0b3Ige1xuICBjb25zdHJ1Y3Rvcihjb25maWdPYmosIGZvcm1FbGVtZW50KSB7XG4gICAgdGhpcy5faW5wdXRTZWxlY3RvciA9IGNvbmZpZ09iai5pbnB1dFNlbGVjdG9yO1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yID0gY29uZmlnT2JqLnN1Ym1pdEJ1dHRvblNlbGVjdG9yO1xuICAgIHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MgPSBjb25maWdPYmouaW5hY3RpdmVCdXR0b25DbGFzcztcbiAgICB0aGlzLl9pbnB1dEVycm9yQ2xhc3MgPSBjb25maWdPYmouaW5wdXRFcnJvckNsYXNzO1xuICAgIHRoaXMuX2Vycm9yQ2xhc3MgPSBjb25maWdPYmouZXJyb3JDbGFzcztcblxuICAgIHRoaXMuX2Zvcm0gPSBmb3JtRWxlbWVudDtcbiAgfVxuXG4gIHNob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCwgZXJyb3JNZXNzYWdlKSB7XG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcblxuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcihgLiR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmApO1xuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IGVycm9yTWVzc2FnZTtcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9lcnJvckNsYXNzKTtcbiAgfVxuICBoaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpIHtcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xuXG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKGAuJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYCk7XG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fZXJyb3JDbGFzcyk7XG4gIH1cblxuICBjaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KSB7XG4gICAgaWYgKCFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQpIHtcbiAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGlucHV0RWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZTtcbiAgICAgIHRoaXMuc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50LCBlcnJvck1lc3NhZ2UpO1xuICAgIH0gZWxzZSB0aGlzLmhpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XG4gIH1cblxuICBoYXNJbnZhbGlkSW5wdXQoKSB7XG4gICAgcmV0dXJuIHRoaXMuaW5wdXRMaXN0LnNvbWUoKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgcmV0dXJuICFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQ7XG4gICAgfSk7XG4gIH1cbiAgdG9nZ2xlQnV0dG9uU3RhdGUoKSB7XG4gICAgaWYgKHRoaXMuaGFzSW52YWxpZElucHV0KCkpIHtcbiAgICAgIHRoaXMuYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xuICAgICAgdGhpcy5idXR0b25FbGVtZW50LnNldEF0dHJpYnV0ZShcImRpc2FibGVkXCIsIHRydWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmJ1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcblxuICAgICAgdGhpcy5idXR0b25FbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShcImRpc2FibGVkXCIpO1xuICAgIH1cbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuaW5wdXRMaXN0ID0gQXJyYXkuZnJvbShcbiAgICAgIHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9pbnB1dFNlbGVjdG9yKVxuICAgICk7XG4gICAgdGhpcy5idXR0b25FbGVtZW50ID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yKTtcblxuICAgIHRoaXMudG9nZ2xlQnV0dG9uU3RhdGUoKTtcblxuICAgIHRoaXMuaW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgdGhpcy5pbnB1dEVsZW1lbnQgPSBpbnB1dEVsZW1lbnQ7XG4gICAgICB0aGlzLmlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKCkgPT4ge1xuICAgICAgICB0aGlzLmNoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpO1xuICAgICAgICB0aGlzLmhhc0ludmFsaWRJbnB1dCgpO1xuICAgICAgICB0aGlzLnRvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuICBlbmFibGVWYWxpZGF0aW9uKCkge1xuICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZ0KSA9PiB7XG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMudG9nZ2xlQnV0dG9uU3RhdGUoKTtcbiAgICB9KTtcbiAgICB0aGlzLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gIH1cbn1cblxuY29uc3QgY29uZmlnID0ge1xuICBpbnB1dFNlbGVjdG9yOiBcIi5mb3JtX19pbnB1dFwiLFxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIuZm9ybV9fYnV0dG9uXCIsXG4gIGluYWN0aXZlQnV0dG9uQ2xhc3M6IFwiYnV0dG9uX2luYWN0aXZlXCIsXG4gIGlucHV0RXJyb3JDbGFzczogXCJmb3JtX19pbnB1dF90eXBlX2Vycm9yXCIsXG4gIGVycm9yQ2xhc3M6IFwiZm9ybV9faW5wdXQtZXJyb3JfYWN0aXZlXCIsXG59O1xuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VjdGlvbiB7XG4gIGNvbnN0cnVjdG9yKHsgZGF0YSwgcmVuZGVyZXIgfSwgY29udGFpbmVyKSB7XG4gICAgdGhpcy5faXRlbXMgPSBkYXRhO1xuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgdGhpcy5fY29udGFpbmVyID0gY29udGFpbmVyO1xuICB9XG4gIGFkZEl0ZW0oY2FyZEVsZW1lbnQpIHtcbiAgICB0aGlzLl9jb250YWluZXIucHJlcGVuZChjYXJkRWxlbWVudCk7XG4gIH1cbiAgcmVuZGVySXRlbXMoKSB7XG4gICAgdGhpcy5faXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgdGhpcy5fcmVuZGVyZXIoaXRlbSk7XG4gICAgfSk7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXApIHtcbiAgICB0aGlzLnBvcHVwID0gcG9wdXA7XG4gIH1cbiAgb3BlbigpIHtcbiAgICB0aGlzLnBvcHVwLmNsYXNzTGlzdC5hZGQoXCJtb2RhbF9vcGVuZWRcIik7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xuICB9XG4gIGNsb3NlKCkge1xuICAgIHRoaXMucG9wdXAuY2xhc3NMaXN0LnJlbW92ZShcIm1vZGFsX29wZW5lZFwiKTtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XG4gIH1cblxuICBfaGFuZGxlRXNjQ2xvc2UgPSAoZXZ0KSA9PiB7XG4gICAgaWYgKGV2dC5rZXkgPT09IFwiRXNjYXBlXCIpIHtcbiAgICAgIGNvbnN0IGN1cnJlbnRNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfb3BlbmVkXCIpO1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH1cbiAgfTtcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5idXR0b25DbG9zZSA9IHRoaXMucG9wdXAucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fYnV0dG9uLWNsb3NlXCIpO1xuICAgIHRoaXMuYnV0dG9uQ2xvc2UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9KTtcblxuICAgIHRoaXMucG9wdXAuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCAoZXZ0KSA9PiB7XG4gICAgICBpZiAoZXZ0LnRhcmdldCA9PT0gZXZ0LmN1cnJlbnRUYXJnZXQpIHtcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXAuanNcIjtcblxuaW1wb3J0IHsgcmVuZGVyTG9hZGluZyB9IGZyb20gXCIuLi91dGlscy91dGlscy5qc1wiO1xuXG5leHBvcnQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXAsIHsgaGFuZGxlRm9ybVN1Ym1pdCB9KSB7XG4gICAgc3VwZXIocG9wdXApO1xuICAgIHRoaXMuaGFuZGxlRm9ybVN1Ym1pdCA9IGhhbmRsZUZvcm1TdWJtaXQ7XG4gICAgdGhpcy5mb3JtID0gdGhpcy5wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1cIik7XG4gIH1cbiAgY2xvc2UoKSB7XG4gICAgc3VwZXIuY2xvc2UoKTtcbiAgICB0aGlzLmZvcm0ucmVzZXQoKTtcbiAgICAvL1xuXG4gICAgY29uc3QgZXJyb3JNZXNzYWdlcyA9IHRoaXMuZm9ybS5xdWVyeVNlbGVjdG9yQWxsKFwiLmZvcm1fX2lucHV0LWVycm9yXCIpO1xuICAgIGVycm9yTWVzc2FnZXMuZm9yRWFjaCgoZXJyb3JNZXNzYWdlKSA9PiB7XG4gICAgICBlcnJvck1lc3NhZ2UuY2xhc3NMaXN0LnJlbW92ZShcImZvcm1fX2lucHV0LWVycm9yX2FjdGl2ZVwiKTtcbiAgICB9KTtcbiAgICBjb25zdCBpbnB1dHMgPSB0aGlzLmZvcm0ucXVlcnlTZWxlY3RvckFsbChcIi5mb3JtX19pbnB1dFwiKTtcbiAgICBpbnB1dHMuZm9yRWFjaCgoaW5wdXQpID0+IHtcbiAgICAgIGlucHV0LmNsYXNzTGlzdC5yZW1vdmUoXCJmb3JtX19pbnB1dF90eXBlX2Vycm9yXCIpO1xuICAgIH0pO1xuICB9XG4gIF9nZXRJbnB1dFZhbHVlcygpIHtcbiAgICBjb25zdCBpbnB1dExpc3QgPSB0aGlzLmZvcm0ucXVlcnlTZWxlY3RvckFsbChcIi5mb3JtX19pbnB1dFwiKTtcblxuICAgIGNvbnN0IGlucHV0VmFsdWVzID0ge307XG4gICAgZm9yIChjb25zdCBpbnB1dCBvZiBpbnB1dExpc3QpIHtcbiAgICAgIGlucHV0VmFsdWVzW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWU7XG4gICAgfVxuICAgIHJldHVybiBpbnB1dFZhbHVlcztcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbiAgICB0aGlzLmZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZ0KSA9PiB7XG4gICAgICAvL1xuICAgICAgcmVuZGVyTG9hZGluZyh0cnVlLCB0aGlzLmZvcm0pO1xuXG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgdGhpcy5oYW5kbGVGb3JtU3VibWl0KHRoaXMuX2dldElucHV0VmFsdWVzKCkpO1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH0pO1xuICB9XG5cbiAgLy9cbiAgc2V0RGVsZXRlTGlzdGVuZXIoY2FyZEVsZW1lbnQsIG9iaklkKSB7XG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB0aGlzLmZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZ0KSA9PiB7XG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMuaGFuZGxlRm9ybVN1Ym1pdChjYXJkRWxlbWVudCwgb2JqSWQpO1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH0pO1xuICB9XG59XG4iLCJpbXBvcnQgXCIuL2luZGV4LmNzc1wiO1xuaW1wb3J0IHtcbiAgY2FyZExpc3QsXG4gIHByb2ZpbGVCdXR0b25FZGl0LFxuICBwcm9maWxlRWRpdE1vZGFsLFxuICBjYXJkc0J1dHRvbkFkZCxcbiAgY2FyZHNNb2RhbCxcbiAgY29uZmlnLFxuICBwcm9maWxlRWRpdEZvcm0sXG4gIGNhcmRzRWRpdEZvcm0sXG4gIHByb2ZpbGVUaXRsZSxcbiAgcHJvZmlsZVN1YnRpdGxlLFxuICBtb2RhbENhcmQsXG4gIHByb3BpY0Zvcm0sXG4gIHByb3BpY01vZGFsLFxuICBwcm9waWNCdXR0b25FZGl0LFxuICBwcm9waWMsXG4gIGRlbGV0ZU1vZGFsLFxufSBmcm9tIFwiLi4vdXRpbHMvY29uc3RhbnRzLmpzXCI7XG5pbXBvcnQgeyBjcmVhdGVDYXJkLCBmaWxsUHJvZmlsZUZvcm0gfSBmcm9tIFwiLi4vdXRpbHMvdXRpbHMuanNcIjtcbmltcG9ydCB7IFVzZXJJbmZvIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvVXNlckluZm8uanNcIjtcbmltcG9ydCBGb3JtVmFsaWRhdG9yIGZyb20gXCIuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanNcIjtcbmltcG9ydCBTZWN0aW9uIGZyb20gXCIuLi9jb21wb25lbnRzL1NlY3Rpb24uanNcIjtcblxuaW1wb3J0IHsgUG9wdXBXaXRoRm9ybSB9IGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanNcIjtcbmltcG9ydCB7IFBvcHVwV2l0aEltYWdlIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanNcIjtcblxuaW1wb3J0IHsgQXBpIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvQXBpLmpzXCI7XG4vL1xuZXhwb3J0IGNvbnN0IGNhcmRQb3B1cCA9IG5ldyBQb3B1cFdpdGhJbWFnZShtb2RhbENhcmQpO1xuY2FyZFBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbmNvbnN0IHByb2ZpbGVFZGl0ZWQgPSBuZXcgVXNlckluZm8ocHJvZmlsZVRpdGxlLCBwcm9maWxlU3VidGl0bGUpO1xuXG5jb25zdCBwcm9maWxlUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybShwcm9maWxlRWRpdE1vZGFsLCB7XG4gIGhhbmRsZUZvcm1TdWJtaXQ6IChvYmopID0+IHtcbiAgICAvL2FkZGVkOlxuICAgIGFwaS5lZGl0UHJvZmlsZShvYmopO1xuXG4gICAgcHJvZmlsZUVkaXRlZC5zZXRVc2VySW5mbyhvYmopO1xuICB9LFxufSk7XG5wcm9maWxlUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbnByb2ZpbGVCdXR0b25FZGl0LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIGZpbGxQcm9maWxlRm9ybShwcm9maWxlRWRpdGVkLmdldFVzZXJJbmZvKCkpO1xuICBwcm9maWxlUG9wdXAub3BlbigpO1xufSk7XG5cbmNvbnN0IGNhcmRzUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybShjYXJkc01vZGFsLCB7XG4gIGhhbmRsZUZvcm1TdWJtaXQ6IChvYmopID0+IHtcbiAgICAvL2FkZGVkOlxuICAgIGFwaS5hZGROZXdDYXJkKG9iaikudGhlbigocikgPT4ge1xuICAgICAgY29uc3QgY2FyZEVsZW1lbnQgPSBjcmVhdGVDYXJkKHIpO1xuICAgICAgY2FyZExpc3QucHJlcGVuZChjYXJkRWxlbWVudCk7XG4gICAgfSk7XG4gIH0sXG59KTtcbmNhcmRzUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbmNhcmRzQnV0dG9uQWRkLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIGNhcmRzUG9wdXAub3BlbigpO1xufSk7XG5cbmNvbnN0IHByb2ZpbGVGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoY29uZmlnLCBwcm9maWxlRWRpdEZvcm0pO1xucHJvZmlsZUZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xuXG5jb25zdCBjYXJkc0Zvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihjb25maWcsIGNhcmRzRWRpdEZvcm0pO1xuY2FyZHNGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcblxuLy9cblxuZXhwb3J0IGNvbnN0IGFwaSA9IG5ldyBBcGkoe1xuICBiYXNlVXJsOiBcImh0dHBzOi8vYXJvdW5kLWFwaS5lbi50cmlwbGV0ZW4tc2VydmljZXMuY29tL3YxXCIsXG4gIGhlYWRlcnM6IHtcbiAgICBhdXRob3JpemF0aW9uOiBcImYwMTI2NGU4LTIxMDEtNGFiNy1iMTIwLWIwOWI1NWU2MzY4MVwiLFxuICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICB9LFxufSk7XG5cbmFwaVxuICAucmV0dXJuVXNlckluZm9BbmRDYXJkcygpXG4gIC50aGVuKChyZXMpID0+IHtcbiAgICBwcm9maWxlRWRpdGVkLnNldFVzZXJJbmZvKHJlc1swXSk7XG5cbiAgICBwcm9waWMuc3JjID0gcmVzWzBdLmF2YXRhcjtcblxuICAgIGNvbnN0IG5ld0NhcmRzU2VjdGlvbiA9IG5ldyBTZWN0aW9uKFxuICAgICAge1xuICAgICAgICBkYXRhOiByZXNbMV0sXG4gICAgICAgIHJlbmRlcmVyOiAoaXRlbSkgPT4ge1xuICAgICAgICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gY3JlYXRlQ2FyZChpdGVtKTtcbiAgICAgICAgICBjYXJkTGlzdC5hcHBlbmQoY2FyZEVsZW1lbnQpO1xuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIGNhcmRMaXN0XG4gICAgKTtcbiAgICBuZXdDYXJkc1NlY3Rpb24ucmVuZGVySXRlbXMoKTtcbiAgfSlcbiAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUuZXJyb3IoZXJyKSk7XG5cbmNvbnN0IHByb3BpY1BvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0ocHJvcGljTW9kYWwsIHtcbiAgaGFuZGxlRm9ybVN1Ym1pdDogKG9iaikgPT4ge1xuICAgIGFwaS51cGRhdGVQcm9QaWMob2JqLmxpbmspO1xuICAgIHByb3BpYy5zcmMgPSBvYmoubGluaztcbiAgfSxcbn0pO1xucHJvcGljUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxucHJvcGljQnV0dG9uRWRpdC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBwcm9waWNQb3B1cC5vcGVuKCk7XG59KTtcblxuZXhwb3J0IGNvbnN0IGRlbGV0ZVBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oZGVsZXRlTW9kYWwsIHtcbiAgaGFuZGxlRm9ybVN1Ym1pdDogKGNhcmRFbGVtZW50LCBvYmpJZCkgPT4ge1xuICAgIGFwaS5kZWxldGVDYXJkKG9iaklkKTtcbiAgICBjYXJkRWxlbWVudC5yZW1vdmUoKTtcbiAgfSxcbn0pO1xuXG5jb25zdCBwcm9waWNGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoY29uZmlnLCBwcm9waWNGb3JtKTtcbnByb3BpY0Zvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwLmpzXCI7XG5pbXBvcnQge1xuICBtb2RhbENhcmQsXG4gIGNhcmRNb2RhbEltYWdlLFxuICBjYXJkTW9kYWxUaXRsZSxcbn0gZnJvbSBcIi4uL3V0aWxzL2NvbnN0YW50cy5qc1wiO1xuZXhwb3J0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XG4gIH1cblxuICBvcGVuKGRhdGEpIHtcbiAgICBjYXJkTW9kYWxUaXRsZS50ZXh0Q29udGVudCA9IGRhdGEudGl0bGU7XG4gICAgY2FyZE1vZGFsSW1hZ2Uuc3JjID0gZGF0YS5saW5rO1xuICAgIGNhcmRNb2RhbEltYWdlLmFsdCA9IGBwaG90byBvZiAke2RhdGEudGl0bGV9YDtcbiAgICBzdXBlci5vcGVuKCk7XG4gIH1cbn1cbiIsImV4cG9ydCBjbGFzcyBVc2VySW5mbyB7XG4gIGNvbnN0cnVjdG9yKG5hbWUsIGpvYikge1xuICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgdGhpcy5qb2IgPSBqb2I7XG4gIH1cbiAgZ2V0VXNlckluZm8oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG5hbWU6IHRoaXMubmFtZS50ZXh0Q29udGVudCxcbiAgICAgIGFib3V0OiB0aGlzLmpvYi50ZXh0Q29udGVudCxcbiAgICB9O1xuICB9XG4gIHNldFVzZXJJbmZvKHsgbmFtZSwgYWJvdXQgfSkge1xuICAgIHRoaXMubmFtZS50ZXh0Q29udGVudCA9IG5hbWU7XG4gICAgdGhpcy5qb2IudGV4dENvbnRlbnQgPSBhYm91dDtcbiAgfVxufVxuIiwiaW1wb3J0IHsgcmVuZGVyTG9hZGluZyB9IGZyb20gXCIuLi91dGlscy91dGlscy5qc1wiO1xuXG5pbXBvcnQgeyBhcGkgfSBmcm9tIFwiLi4vcGFnZXMvaW5kZXguanNcIjtcbmltcG9ydCB7XG4gIHByb2ZpbGVFZGl0Rm9ybSxcbiAgY2FyZHNFZGl0Rm9ybSxcbiAgcHJvcGljRm9ybSxcbn0gZnJvbSBcIi4uL3V0aWxzL2NvbnN0YW50cy5qc1wiO1xuXG5leHBvcnQgY2xhc3MgQXBpIHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIHRoaXMuX29wdGlvbnMgPSBvcHRpb25zO1xuICB9XG5cbiAgbG9hZFVzZXJJbmZvKCkge1xuICAgIHJldHVybiBmZXRjaChcImh0dHBzOi8vYXJvdW5kLWFwaS5lbi50cmlwbGV0ZW4tc2VydmljZXMuY29tL3YxL3VzZXJzL21lXCIsIHtcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgYXV0aG9yaXphdGlvbjogXCJmMDEyNjRlOC0yMTAxLTRhYjctYjEyMC1iMDliNTVlNjM2ODFcIixcbiAgICAgIH0sXG4gICAgfSkudGhlbigocmVzKSA9PiB7XG4gICAgICBpZiAocmVzLm9rKSB7XG4gICAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KFwiRXJyb3I6ICR7cmVzLnN0YXR1c31cIik7XG4gICAgfSk7XG4gIH1cblxuICBnZXRJbml0aWFsQ2FyZHMoKSB7XG4gICAgcmV0dXJuIGZldGNoKFwiaHR0cHM6Ly9hcm91bmQtYXBpLmVuLnRyaXBsZXRlbi1zZXJ2aWNlcy5jb20vdjEvY2FyZHNcIiwge1xuICAgICAgaGVhZGVyczoge1xuICAgICAgICBhdXRob3JpemF0aW9uOiBcImYwMTI2NGU4LTIxMDEtNGFiNy1iMTIwLWIwOWI1NWU2MzY4MVwiLFxuICAgICAgfSxcbiAgICB9KS50aGVuKChyZXMpID0+IHtcbiAgICAgIGlmIChyZXMub2spIHtcbiAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoXCJFcnJvcjogJHtyZXMuc3RhdHVzfVwiKTtcbiAgICB9KTtcbiAgfVxuXG4gIGVkaXRQcm9maWxlKHsgbmFtZSwgYWJvdXQgfSkge1xuICAgIHJldHVybiBmZXRjaChcImh0dHBzOi8vYXJvdW5kLWFwaS5lbi50cmlwbGV0ZW4tc2VydmljZXMuY29tL3YxL3VzZXJzL21lXCIsIHtcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBhdXRob3JpemF0aW9uOiBcImYwMTI2NGU4LTIxMDEtNGFiNy1iMTIwLWIwOWI1NWU2MzY4MVwiLFxuICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgIH0sXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgIGFib3V0OiBhYm91dCxcbiAgICAgIH0pLFxuICAgIH0pXG4gICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgIGlmIChyZXMub2spIHtcbiAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoXCJFcnJvcjogJHtyZXMuc3RhdHVzfVwiKTtcbiAgICAgIH0pXG4gICAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICAgIHJlbmRlckxvYWRpbmcoZmFsc2UsIHByb2ZpbGVFZGl0Rm9ybSwgXCJTYXZlXCIpO1xuICAgICAgfSk7XG4gIH1cblxuICBhZGROZXdDYXJkKHsgbmFtZSwgbGluayB9KSB7XG4gICAgcmV0dXJuIGZldGNoKFwiaHR0cHM6Ly9hcm91bmQtYXBpLmVuLnRyaXBsZXRlbi1zZXJ2aWNlcy5jb20vdjEvY2FyZHNcIiwge1xuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgYXV0aG9yaXphdGlvbjogXCJmMDEyNjRlOC0yMTAxLTRhYjctYjEyMC1iMDliNTVlNjM2ODFcIixcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICB9LFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICBsaW5rOiBsaW5rLFxuICAgICAgfSksXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgaWYgKHJlcy5vaykge1xuICAgICAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChcIkVycm9yOiAke3Jlcy5zdGF0dXN9XCIpO1xuICAgICAgfSlcbiAgICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgICAgcmVuZGVyTG9hZGluZyhmYWxzZSwgY2FyZHNFZGl0Rm9ybSwgXCJDcmVhdGVcIik7XG4gICAgICB9KTtcbiAgfVxuXG4gIGRlbGV0ZUNhcmQoY2FyZElkKSB7XG4gICAgcmV0dXJuIGZldGNoKFxuICAgICAgYGh0dHBzOi8vYXJvdW5kLWFwaS5lbi50cmlwbGV0ZW4tc2VydmljZXMuY29tL3YxL2NhcmRzLyR7Y2FyZElkfWAsXG4gICAgICB7XG4gICAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgIGF1dGhvcml6YXRpb246IFwiZjAxMjY0ZTgtMjEwMS00YWI3LWIxMjAtYjA5YjU1ZTYzNjgxXCIsXG4gICAgICAgIH0sXG4gICAgICB9XG4gICAgKS50aGVuKChyZXMpID0+IHtcbiAgICAgIGlmIChyZXMub2spIHtcbiAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoXCJFcnJvcjogJHtyZXMuc3RhdHVzfVwiKTtcbiAgICB9KTtcbiAgfVxuXG4gIGFkZExpa2UoY2FyZElkKSB7XG4gICAgcmV0dXJuIGZldGNoKFxuICAgICAgYGh0dHBzOi8vYXJvdW5kLWFwaS5lbi50cmlwbGV0ZW4tc2VydmljZXMuY29tL3YxL2NhcmRzLyR7Y2FyZElkfS9saWtlc2AsXG4gICAgICB7XG4gICAgICAgIG1ldGhvZDogXCJQVVRcIixcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgIGF1dGhvcml6YXRpb246IFwiZjAxMjY0ZTgtMjEwMS00YWI3LWIxMjAtYjA5YjU1ZTYzNjgxXCIsXG4gICAgICAgIH0sXG4gICAgICB9XG4gICAgKS50aGVuKChyZXMpID0+IHtcbiAgICAgIGlmIChyZXMub2spIHtcbiAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoXCJFcnJvcjogJHtyZXMuc3RhdHVzfVwiKTtcbiAgICB9KTtcbiAgfVxuXG4gIGRlbGV0ZUxpa2UoY2FyZElkKSB7XG4gICAgcmV0dXJuIGZldGNoKFxuICAgICAgYGh0dHBzOi8vYXJvdW5kLWFwaS5lbi50cmlwbGV0ZW4tc2VydmljZXMuY29tL3YxL2NhcmRzLyR7Y2FyZElkfS9saWtlc2AsXG4gICAgICB7XG4gICAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgIGF1dGhvcml6YXRpb246IFwiZjAxMjY0ZTgtMjEwMS00YWI3LWIxMjAtYjA5YjU1ZTYzNjgxXCIsXG4gICAgICAgIH0sXG4gICAgICB9XG4gICAgKS50aGVuKChyZXMpID0+IHtcbiAgICAgIGlmIChyZXMub2spIHtcbiAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoXCJFcnJvcjogJHtyZXMuc3RhdHVzfVwiKTtcbiAgICB9KTtcbiAgfVxuXG4gIHVwZGF0ZVByb1BpYyhsaW5rKSB7XG4gICAgcmV0dXJuIGZldGNoKFxuICAgICAgXCJodHRwczovL2Fyb3VuZC1hcGkuZW4udHJpcGxldGVuLXNlcnZpY2VzLmNvbS92MS91c2Vycy9tZS9hdmF0YXJcIixcbiAgICAgIHtcbiAgICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICBhdXRob3JpemF0aW9uOiBcImYwMTI2NGU4LTIxMDEtNGFiNy1iMTIwLWIwOWI1NWU2MzY4MVwiLFxuICAgICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgICB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgYXZhdGFyOiBsaW5rLFxuICAgICAgICB9KSxcbiAgICAgIH1cbiAgICApXG4gICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgIGlmIChyZXMub2spIHtcbiAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoXCJFcnJvcjogJHtyZXMuc3RhdHVzfVwiKTtcbiAgICAgIH0pXG4gICAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICAgIHJlbmRlckxvYWRpbmcoZmFsc2UsIHByb3BpY0Zvcm0sIFwiU2F2ZVwiKTtcbiAgICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuVXNlckluZm9BbmRDYXJkcygpIHtcbiAgICBjb25zdCBwcm9maWxlSW5mbyA9IGFwaS5sb2FkVXNlckluZm8oKTtcbiAgICBjb25zdCBjYXJkSW5mbyA9IGFwaS5nZXRJbml0aWFsQ2FyZHMoKTtcbiAgICBjb25zdCBwcm9taXNlcyA9IFtwcm9maWxlSW5mbywgY2FyZEluZm9dO1xuICAgIHJldHVybiBQcm9taXNlLmFsbChwcm9taXNlcyk7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJfX3dlYnBhY2tfcmVxdWlyZV9fIiwiZXhwb3J0cyIsImRlZmluaXRpb24iLCJrZXkiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0Iiwib2JqIiwicHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImNhcmRMaXN0IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwibW9kYWxDYXJkIiwiY2FyZE1vZGFsSW1hZ2UiLCJjYXJkTW9kYWxUaXRsZSIsInByb2ZpbGVCdXR0b25FZGl0IiwicHJvZmlsZUVkaXRNb2RhbCIsImNhcmRzQnV0dG9uQWRkIiwiY2FyZHNNb2RhbCIsInByb2ZpbGVUaXRsZSIsInByb2ZpbGVTdWJ0aXRsZSIsImlucHV0TmFtZSIsImlucHV0RGVzY3JpcHRpb24iLCJjb25maWciLCJpbnB1dFNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiaW5wdXRFcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsInByb2ZpbGVFZGl0Rm9ybSIsImNhcmRzRWRpdEZvcm0iLCJwcm9waWNGb3JtIiwicHJvcGljTW9kYWwiLCJwcm9waWNCdXR0b25FZGl0IiwicHJvcGljIiwiZGVsZXRlTW9kYWwiLCJDYXJkIiwiY29uc3RydWN0b3IiLCJkYXRhIiwiY2FyZFNlbGVjdG9yIiwiaGFuZGxlSW1hZ2VDbGljayIsInRoaXMiLCJuYW1lIiwibGluayIsIl9jYXJkU2VsZWN0b3IiLCJfaGFuZGxlSW1hZ2VDbGljayIsImlkIiwiX2lkIiwiaXNMaWtlZCIsIl9nZXRUZW1wbGF0ZSIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJnZW5lcmF0ZUNhcmQiLCJfY2FyZEVsZW1lbnQiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJzcmMiLCJhbHQiLCJ0ZXh0Q29udGVudCIsImJ1dHRvbkxpa2UiLCJjbGFzc0xpc3QiLCJhZGQiLCJhZGRFdmVudExpc3RlbmVyIiwiX2hhbmRsZUxpa2VCdXR0b24iLCJidXR0b25UcmFzaCIsImRlbGV0ZVBvcHVwIiwib3BlbiIsInNldERlbGV0ZUxpc3RlbmVyIiwidG9nZ2xlIiwiQXJyYXkiLCJmcm9tIiwiaW5jbHVkZXMiLCJhcGkiLCJhZGRMaWtlIiwiZGVsZXRlTGlrZSIsIl9oYW5kbGVUcmFzaEJ1dHRvbiIsInJlbW92ZSIsInRoaXNPYmoiLCJ0aXRsZSIsImNhcmRQb3B1cCIsImNyZWF0ZUNhcmQiLCJpdGVtIiwicmVuZGVyTG9hZGluZyIsImlzTG9hZGluZyIsImZvcm0iLCJ0ZXh0IiwiRm9ybVZhbGlkYXRvciIsImNvbmZpZ09iaiIsImZvcm1FbGVtZW50IiwiX2lucHV0U2VsZWN0b3IiLCJfc3VibWl0QnV0dG9uU2VsZWN0b3IiLCJfaW5hY3RpdmVCdXR0b25DbGFzcyIsIl9pbnB1dEVycm9yQ2xhc3MiLCJfZXJyb3JDbGFzcyIsIl9mb3JtIiwic2hvd0lucHV0RXJyb3IiLCJpbnB1dEVsZW1lbnQiLCJlcnJvck1lc3NhZ2UiLCJlcnJvckVsZW1lbnQiLCJoaWRlSW5wdXRFcnJvciIsImNoZWNrSW5wdXRWYWxpZGl0eSIsInZhbGlkaXR5IiwidmFsaWQiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsImhhc0ludmFsaWRJbnB1dCIsImlucHV0TGlzdCIsInNvbWUiLCJ0b2dnbGVCdXR0b25TdGF0ZSIsImJ1dHRvbkVsZW1lbnQiLCJzZXRBdHRyaWJ1dGUiLCJyZW1vdmVBdHRyaWJ1dGUiLCJzZXRFdmVudExpc3RlbmVycyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmb3JFYWNoIiwiZW5hYmxlVmFsaWRhdGlvbiIsImV2dCIsInByZXZlbnREZWZhdWx0IiwiU2VjdGlvbiIsIl9yZWYiLCJjb250YWluZXIiLCJyZW5kZXJlciIsIl9pdGVtcyIsIl9yZW5kZXJlciIsIl9jb250YWluZXIiLCJhZGRJdGVtIiwiY2FyZEVsZW1lbnQiLCJwcmVwZW5kIiwicmVuZGVySXRlbXMiLCJQb3B1cCIsInBvcHVwIiwiX2hhbmRsZUVzY0Nsb3NlIiwiY2xvc2UiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiYnV0dG9uQ2xvc2UiLCJ0YXJnZXQiLCJjdXJyZW50VGFyZ2V0IiwiUG9wdXBXaXRoRm9ybSIsImhhbmRsZUZvcm1TdWJtaXQiLCJzdXBlciIsInJlc2V0IiwiaW5wdXQiLCJfZ2V0SW5wdXRWYWx1ZXMiLCJpbnB1dFZhbHVlcyIsInZhbHVlIiwib2JqSWQiLCJwb3B1cFNlbGVjdG9yIiwicHJvZmlsZUVkaXRlZCIsImpvYiIsImdldFVzZXJJbmZvIiwiYWJvdXQiLCJzZXRVc2VySW5mbyIsInByb2ZpbGVQb3B1cCIsImVkaXRQcm9maWxlIiwiZmlsbFByb2ZpbGVGb3JtIiwiY2FyZHNQb3B1cCIsImFkZE5ld0NhcmQiLCJ0aGVuIiwiciIsIm9wdGlvbnMiLCJfb3B0aW9ucyIsImxvYWRVc2VySW5mbyIsImZldGNoIiwiaGVhZGVycyIsImF1dGhvcml6YXRpb24iLCJyZXMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0IiwiZ2V0SW5pdGlhbENhcmRzIiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJmaW5hbGx5IiwiX3JlZjIiLCJkZWxldGVDYXJkIiwiY2FyZElkIiwidXBkYXRlUHJvUGljIiwiYXZhdGFyIiwicmV0dXJuVXNlckluZm9BbmRDYXJkcyIsInByb21pc2VzIiwiYWxsIiwiYmFzZVVybCIsImFwcGVuZCIsImNhdGNoIiwiZXJyIiwiY29uc29sZSIsImVycm9yIiwicHJvcGljUG9wdXAiXSwic291cmNlUm9vdCI6IiJ9